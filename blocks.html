<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Fungus: Blocks</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-59839218-1', 'auto');
  ga('send', 'pageview');
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="background-color: #B7CEEC;">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://fungusgames.com" target="_blank"><img alt="Logo" src="logo_small.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><!--Fungus-->
   &#160;<span id="projectnumber"><!--v3.3.0--></span>
   </div>
   <div id="projectbrief">v3.3.0 Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('blocks.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Blocks </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#inspect_block">Inspecting Block properties</a></li>
<li class="level1"><a href="#set_block_name">Setting Block name</a></li>
<li class="level1"><a href="#create_block">Creating a Block</a></li>
<li class="level1"><a href="#delete_block">Delete a Block</a></li>
<li class="level1"><a href="#duplicate_block">Duplicate a Block</a></li>
<li class="level1"><a href="#move_block">Moving blocks</a></li>
<li class="level1"><a href="#three_types">The 3 types of Block</a></li>
<li class="level1"><a href="#block_connections">Connections between Blocks</a></li>
<li class="level1"><a href="#executing_block">Executing another Block</a></li>
<li class="level1"><a href="#highlighting_connections">Highlighting connections</a></li>
<li class="level1"><a href="#set_event_handler">Setting an Event Handler</a></li>
</ul>
</div>
<div class="textblock"><p>A fundamental concept of Fungus is the <b>Block</b>. Blocks contain your Fungus Commands, and reside inside Flowcharts.</p>
<h1><a class="anchor" id="inspect_block"></a>
Inspecting Block properties</h1>
<p>Blocks are found inside Flowcharts. Blocks are where your Fungus Commands are stored. Each Block can contain 1 or more Fungus Commands:</p>
<div class="image">
<img src="1_block.png" alt="1_block.png"/>
<div class="caption">
block</div></div>
<p> To inspect the properties of a Block do the following:</p>
<ol type="1">
<li>(setup) Create a Fungus Flowchart.</li>
<li>Click to select the default Block in the new Flowchart. You should see the Block's properties displayed in the Inspector window:</li>
</ol>
<div class="image">
<img src="2_properties.png" alt="2_properties.png"/>
<div class="caption">
block properties</div></div>
<h1><a class="anchor" id="set_block_name"></a>
Setting Block name</h1>
<p>When working with more than one Block, its important to name each Block in a meaningful way. To rename a Block do the following:</p>
<ol type="1">
<li>(setup) Create a Fungus Flowchart.</li>
<li>Click to select the default Block in the new Flowchart. The selected block has a green outline.</li>
<li>You should see the Block's properties displayed in the Inspector window: <div class="image">
<img src="2_inspect_block.png" alt="2_inspect_block.png"/>
<div class="caption">
block name</div></div>
</li>
<li>In the Inspector change the text for the Block Name property to "Say Hello".</li>
<li>You should now see the Block has been renamed in the Flowchart window: <div class="image">
<img src="3_rename.png" alt="3_rename.png"/>
<div class="caption">
block renamed</div></div>
</li>
<li>Now add a detailed description about the Block in the Description property in the Inspector window: <div class="image">
<img src="4_description.png" alt="4_description.png"/>
<div class="caption">
block description</div></div>
</li>
</ol>
<h1><a class="anchor" id="create_block"></a>
Creating a Block</h1>
<p>To create a new Block do the following:</p>
<ol type="1">
<li>(setup) Create a Fungus Flowchart (or be viewing the Flowchart for your current project).</li>
<li>Click the Add New Block button (the plus-sign "+") in the top-left of the Fungus Flowchart window: <div class="image">
<img src="1_add_block_button.png" alt="1_add_block_button.png"/>
<div class="caption">
add block button</div></div>
</li>
<li>A new Block should have been added to your Flowchart (with the default name "New Block", or "New Block1/2/3 etc." so each name is unique) <div class="image">
<img src="2_new_block_created.png" alt="2_new_block_created.png"/>
<div class="caption">
new block</div></div>
 Note - a good time to choose a meaningful name a Block is immediately after creating a new Block ...</li>
</ol>
<h1><a class="anchor" id="delete_block"></a>
Delete a Block</h1>
<p>To delete a Block from the current Flowchart, do the following:</p>
<ol type="1">
<li>(setup) Create a Fungus Flowchart (or be viewing the Flowchart for your current project).</li>
<li>Right-mouse-click over the Block you wish to delete, and choose menu: <code>Delete</code>: <div class="image">
<img src="1_delete_menu.png" alt="1_delete_menu.png"/>
<div class="caption">
delete block</div></div>
</li>
<li>The Block should now have been removed from the Flowchart: <div class="image">
<img src="2_block_deleted.png" alt="2_block_deleted.png"/>
<div class="caption">
deleted block</div></div>
</li>
</ol>
<h1><a class="anchor" id="duplicate_block"></a>
Duplicate a Block</h1>
<p>To duplicate (clone / make an exact copy of) a Block from the current Flowchart, do the following:</p>
<ol type="1">
<li>(setup) Create a Fungus Flowchart (or be viewing the Flowchart for your current project).</li>
<li>Right-mouse-click over the Block you wish to duplicate, and choose menu: <code>Duplicate</code>: <div class="image">
<img src="1_duplicate_menu.png" alt="1_duplicate_menu.png"/>
<div class="caption">
duplicate block</div></div>
</li>
<li>A copy of the Block should now have been added to the Flowchart (with "(copy)" appended the name of the duplicate): <div class="image">
<img src="2_duplicate_created.png" alt="2_duplicate_created.png"/>
<div class="caption">
duplicated block</div></div>
 Note - a good time to choose a meaningful name a Block is immediately after duplicating one ...</li>
</ol>
<h1><a class="anchor" id="move_block"></a>
Moving blocks</h1>
<p>To move / rearrange Blocks in the Flowchart window do the following:</p>
<ol type="1">
<li>(setup) Create a Fungus Flowchart (or be viewing the Flowchart for your current project).</li>
<li>Move a Block by clicking-and-dragging with the left mouse button: <div class="image">
<img src="1_move1.png" alt="1_move1.png"/>
<div class="caption">
move block</div></div>
</li>
<li>When you release the mouse button the Block will remain where it was dragged:</li>
</ol>
<div class="image">
<img src="2_move2.png" alt="2_move2.png"/>
<div class="caption">
release block</div></div>
 <div class="image">
<img src="animated_block_move.gif" alt="animated_block_move.gif"/>
<div class="caption">
animated move block</div></div>
<h1><a class="anchor" id="three_types"></a>
The 3 types of Block</h1>
<p>Fungus Flowcharts visually differentiate three differents kinds of Block behavior:</p>
<ol type="1">
<li>Event Block - blue rounded rectangle (Block execution triggered by an event)</li>
<li>Branching Block - orange polygon (passes control to 2 or more other Blocks, and not and Event Block)</li>
<li>Standard Block - yellow rectangle (no event, passes control to 0 or 1 other blocks)</li>
</ol>
<h2>1: Event Block - blue rounded rectangle</h2>
<p>One way Fungus decides when to start executing the Commands inside a Block is if a Block has defined an Execute On Event. If a Block has any of the possible Execute On Events chosen (such as Game Started, Message Received, Sprite Drag Completed, Key Pressed etc.) then this Block will be displayed as a <b>blue rounded rectangle</b>:</p>
<div class="image">
<img src="1_event_block.png" alt="1_event_block.png"/>
<div class="caption">
event block</div></div>
<p> As we can see, the default Block created with every new Flowchart automatically defines the Game Started Execute On Event, so this default Block always is displayed as an Event Block.</p>
<p>NOTE: A Block with an Execute On Event will always appear as an Event Block in the Flowchart, regardless of whether its Commands contain menus or calls to 2 or more Blocks). In other words, in terms of Flowchart appearance, display of an Event Block overrides display of a Branching Block.</p>
<h2>2: Branching Block - orange polygon</h2>
<p>If a Block is <em>not</em> an Event Block, and its Commands include Calls and/or Menu commands to execute Commands in 2 or more other Blocks, then in the Flowchart window this Block will be displayed as a Branching Block, visually appearing as an <b>orange polygon</b>.</p>
<div class="image">
<img src="2_branching_block.png" alt="2_branching_block.png"/>
<div class="caption">
branching block</div></div>
 <h2>3: Standard Block - yellow rectangle</h2>
<p>If a Block is <em>neither</em> an Event Block <em>nor</em> a Command Block, then it is a Standard Block, and will be displayed as an <b>yellow rectangle</b>.</p>
<div class="image">
<img src="3_standard_block.png" alt="3_standard_block.png"/>
<div class="caption">
standard block</div></div>
<h1><a class="anchor" id="block_connections"></a>
Connections between Blocks</h1>
<p>A whole scene's logic can rarely fit all into a single Block, therefore we need ways for one Block to pass execution control to other Blocks. There are several ways to do this, the most common being:</p>
<ol type="1">
<li>the Call Command</li>
<li>the Menu Command</li>
</ol>
<h2>Executing Commands in another Block with the Call Command</h2>
<p>The Call Command tells Fungus to go and start executing the Commands in named Block. There are several ways to do this, we can tell Fungus to Stop execution completely in the current Block, and just pass control to named Block. We can also tell Fungus to go and completed all Commands in the named Block, and when they are finished, to then continue executing any remaining commands in the current Block. Finally, and perhaps the most complicated/sophisticated technique, we can tell Fungus to both started executing Commands in a named Block WHILE simultaneously continuing to execute remaining Commands in the current Block.</p>
<p>To pass control to another Block, and stop executing Commands in the current Block, do the following:</p>
<ol type="1">
<li>(setup) If you have not already done so: Create a new scene, add a Fungus Flowchart to the scene, and select the Block in the Flowchart.</li>
<li>Rename this Block "Start".</li>
<li>Add to Block "Start" a Say Command with the Story Text "I am in Start". <div class="image">
<img src="1_start.png" alt="1_start.png"/>
<div class="caption">
block start</div></div>
</li>
<li>Add a new Block to your Flowchart named "Block2".</li>
<li>Add to Block "Block2" a Say Command with the Story Text "I am in Block2". <div class="image">
<img src="2_block2.png" alt="2_block2.png"/>
<div class="caption">
block 2</div></div>
</li>
<li>Add to Block "Block2" a Call Command, by choosing menu: <code>Flow | Call</code>: <div class="image">
<img src="3_menu_call.png" alt="3_menu_call.png"/>
<div class="caption">
flow call</div></div>
</li>
<li>With this Call Command Selected, in the Inspector choose Block2 from the list of Blocks for property <b>Target Block</b>: <div class="image">
<img src="4_call_block.png" alt="4_call_block.png"/>
<div class="caption">
call block menu</div></div>
</li>
<li>Note: We will keep the default of <b>Target Flowchart</b> (None), which means the current Flowchart.</li>
<li>Note: We will keep the default of <b>Call Mode</b> Stop, which means that execution in the current Block (Start) will stop once execution of the called Block has begun.</li>
<li>You should now see an arrow in the Flowchart window, connecting Block "Start" with Block "Block2". This visually tells us (the game developer) that a Call or Menu Command is present inside Block "Start" that tells Fungus to execute commands in Block "Block2":</li>
</ol>
<div class="image">
<img src="5_arrow.png" alt="5_arrow.png"/>
<div class="caption">
arrow between blocks</div></div>
<h1><a class="anchor" id="executing_block"></a>
Executing another Block</h1>
<p>Let's use a Say command above to ask a tricky mathematical question, and demonstrate the Menu command by offering the user a choice been "correct' and "incorrect" answers. Menu commands transfer control to another block - so we'll need to add 2 new blocks to correspond to the 2 answers. Do the following:</p>
<ol type="1">
<li>(setup) Create a new scene, add a Fungus Flowchart to the scene, and select the Block in the Flowchart.</li>
<li>Rename the Block in the Flowchart to "Question".</li>
<li>Create a Say command, with <b>Story Text</b> to ask the question: "Is 2 + 2?".</li>
<li>Uncheck the "Wait For Click" checkbox (this is so we see the menu options immediately after the Say command has displayed the question): <div class="image">
<img src="2_edited_say.png" alt="2_edited_say.png"/>
<div class="caption">
maths say command</div></div>
</li>
<li>Create a new Block, named "Correct" which contains a <b>Say</b> command with the text "Well done, you are very mathematical!". Click the plus-sign button in the Flowchart window to add a new Block to the Flowchart, rename it "Correct" and then add that Say command: <div class="image">
<img src="1_correct_block.png" alt="1_correct_block.png"/>
<div class="caption">
correct block</div></div>
</li>
<li>Select the "Question" block, and add a Menu command by clicking the plus-sign add Command button in the Inspector and then choosing menu: <code>Narrative | Menu</code>. <div class="image">
<img src="6_add_menu.png" alt="6_add_menu.png"/>
<div class="caption">
add menu command</div></div>
</li>
<li>With this new Menu command selected (green) in the top half of the Inspector window, set the <b>Text</b> to "Yes" and the <b>Target Block</b> to your new "Correct" block: <div class="image">
<img src="4_menu_correct.png" alt="4_menu_correct.png"/>
<div class="caption">
menu command</div></div>
</li>
<li>You should now see how the 'flow' of commands can change from Block "hello" to Block "Correct" in the Flowchart window: <div class="image">
<img src="5_connected_blocks.png" alt="5_connected_blocks.png"/>
<div class="caption">
flow between blocks in Flowchart</div></div>
</li>
<li>Add a second new Block named "Wrong", containing a Say command with text "Bad luck, perhaps consider a non-mathematical career path..." <div class="image">
<img src="7_wrong_block.png" alt="7_wrong_block.png"/>
<div class="caption">
block for wrong answer</div></div>
</li>
<li>Now we need to add another Menu command to our "hello" block, offering the user the "No" answer to our maths question, and passing control to Block "Wrong" if they disagree that 2 + 2 = 4. Select the "hello" block, and add a Menu command. With this new Menu command selected (green) in the top half of the Inspector window, set the <b>Text</b> to "No" and the <b>Target Block</b> to your new "Wrong" block.</li>
<li>You should now see in the Flowchart window how block "hello" can pass control to either block "Correct" or Block "Wrong" - depending on which menu answer the user selects. <div class="image">
<img src="8_three_block_menu.png" alt="8_three_block_menu.png"/>
<div class="caption">
block connected to 2 others</div></div>
</li>
<li>Run the scene, and you should see the Say question appear at the bottom of the screen, and also the two Menu buttons "Yes" and "No" in the middle of the screen. Clicking "Yes" then runs the "Correct" Block's commands, and clicking "No" runs the "Wrong" block's commands:</li>
</ol>
<div class="image">
<img src="9_menu_running.png" alt="9_menu_running.png"/>
<div class="caption">
menu running</div></div>
 <div class="image">
<img src="10_correct.png" alt="10_correct.png"/>
<div class="caption">
correct screen</div></div>
 <div class="image">
<img src="11_wrong.png" alt="11_wrong.png"/>
<div class="caption">
wrong screen</div></div>
<h1><a class="anchor" id="highlighting_connections"></a>
Highlighting connections</h1>
<p>In the Inspector window, if you select a Call or Menu Command (executing Commands in another Block in <b>the same Flowchart</b>), then you'll see the arrow between the 2 Blocks highlighted in GREEN:</p>
<div class="image">
<img src="5_arrow.png" alt="5_arrow.png"/>
<div class="caption">
green arrow highlight</div></div>
<h1><a class="anchor" id="set_event_handler"></a>
Setting an Event Handler</h1>
<p>Events are one way to declare when you want execution of the Commands in a Block to begin. Typical events include:</p>
<ul>
<li>Game Started</li>
<li>Flowchart enabled</li>
<li>Message Received</li>
<li>Key Pressed (Up / Down / Repeat)</li>
<li>Sprite clicking / drag-dropping interactions</li>
</ul>
<p>The most common Event used to define when a Block should start execution is, of course, the <b>Game Started</b> event. Each new Flowchart automatically starts with a single empty Block that is defined to begin execution when the game starts:</p>
<div class="image">
<img src="1_event_block.png" alt="1_event_block.png"/>
<div class="caption">
event block</div></div>
<p> To change the Event defined for a Block, or to assign an event for a Block that had None, do the following:</p>
<ol type="1">
<li>Select the Block in the Flowchart window.</li>
<li>In the Inspector window, for property <b>Execute On Event</b> choose from the popup menu the desired Event:</li>
</ol>
<div class="image">
<img src="1_define_event.png" alt="1_define_event.png"/>
<div class="caption">
define event</div></div>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">%Fungus Documentation</a></li>
    <li class="footer">Generated on Thu Oct 13 2016 16:03:50 for Fungus by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
