<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>Fungus: telling_a_story.md Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-59839218-1', 'auto');
  ga('send', 'pageview');
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="background-color: #B7CEEC;">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://fungusgames.com" target="_blank"><img alt="Logo" src="logo_small.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><!--Fungus-->
   &#160;<span id="projectnumber"><!--v3.6.1--></span>
   </div>
   <div id="projectbrief">v3.6.1 Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('telling__a__story_8md.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">telling_a_story.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="telling__a__story_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# Telling a story # {#telling_a_story}</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;[TOC]</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;Having got up and running, here are some next steps to get you familiar with the storytelling features in %Fungus.</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;&lt;!-- **************************************** --&gt;</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;# Adding Characters # {#characters}</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;We can associated words spoken by the Say Command with a particular Character. Consider the following Tom and Jerry scene:</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;```</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;[Tom] Where is that mouse?</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;[Jerry] Where is that cat?</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;[Tom] Aha...</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;[Jerry] Arrrrggggggg!!!!!!!</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;```</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;To implement the above in %Fungus we need to create and name two Characters. Do the following:</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;1. (setup) Create a new scene, add a %Fungus Flowchart to the scene, and select the Block in the Flowchart.</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;2. Rename the Flowchart Block &quot;cat and mouse&quot;.</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;3. Choose menu:</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;```Tools | %Fungus | Create | Character```:</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;![Menu create character]</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;4. You should now see a new gameObject &quot;Character&quot; in the Hierarchy window, named Character.</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;![new character]</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;5. Ensure gameObject &quot;Character&quot; is selected, and edit its properties in the Inspector. Rename the gameObject to &quot;Character1 - Tom&quot;, then in its Character (Script) component set the Name Text to &quot;Tom&quot; and the Name Color to red:</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;![character tom red]</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;6. Repeat the previous two steps to create a second character &quot;Character2 - Jerry&quot;, then in its Character (Script) component set the Name Text to &quot;Jerry&quot; and the Name Color to blue:</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;![character jerry blue]</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;7. Now we have our two character gameObjects, we can assign them to any Say commands as appropriate.</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;8. Create a Say Command for Tom, with text &quot;Where is that mouse?&quot;, setting the Character of this Say command to &quot;Character1 - Tom&quot;:</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;![tom say where cat]</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;9. Repeat the above step for the 3 remaining statements, for:</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    - Jerry &quot;Where is that cat?&quot;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    - Tom &quot;Aha...&quot;</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    - Jerry &quot;Arrrrggggggg!!!!!!!&quot;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;Assigning the appropriate Character for each Say Command from the menu of Character gameObjects in the Hiearchy.</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;10. You should now have a sequence of 4 Say commands in your Block:</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;![tom jerry conversation]</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;11. When you run the scene you should see a sequence of statements, clearly showing who is saying what - both the character name is given, and also that name is coloured according to the properties we set for the character gameObjects (red for Tom, and blue for Jerry):</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;![tom jerry conversation output]</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;&lt;!-- **************************************** --&gt;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;# Character portrait images # {#portraits}</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;If you add one or more portrait images to a character, then each Say command for that character can define which of those portrait images should be displayed, alongside the (colored) name of the Character.</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;To add portrait images to a character do the following:</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;1. (setup) Create a new scene, add a %Fungus Flowchart to the scene, and select the Block in the Flowchart.</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;2. Rename the Flowchart Block &quot;The case of the missing violin&quot;.</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;3. Create a character, and in the Inspector give your character Name Text (we chose &quot;Sherlock&quot;) and a name color.</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;4. Now in the Inspector click the Add Portrait button (the plus-sign &quot;+&quot;), to get a &#39;slot&#39; into which to add a portrait image:</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;![add portrait]</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;5. Drag the appropriate image into your new portrait image slot (in this screenshot we used the &#39;condident&#39; image from the Sherlock example project). Also set the direction that the image is facing (left / front / right):</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;![sherlock image]</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;6. Create a second character (e.g. John, using Name Color blue, and portrait image &#39;annoyed&#39;).</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;7. Now select your Block in the %Fungus Flowchart, so you can add some Commands to be executed...</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;8. Create a Say command, for your Sherlock Character, saying &quot;Watson, have you seen my violin?&quot; and choosing portrait &#39;confident&#39; (since this is the only we added to the Character):</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;![sherlock Say command]</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;9. Add a second Say command, this time for Character John, saying &quot;No, why don&#39;t you find it yourself using your amazing powers of deduction...&quot; and choosing the &#39;annoyed&#39; portrait for John.</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;![2 say commands]</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;10. When you run the scene you should see a sequence of statements, clearly showing who is saying both with (colored) name text AND also the portrait image you selected for each Say command:</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;![sherlock output]</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;![john output]</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;As you can see in some of the %Fungus Example projects, many games will have a wide range of different portrait images for each character, to allow a full range of visual expression of emotion to support the text of Say commands:</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;![sherlock image list]</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;&lt;!-- **************************************** --&gt;</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;# Character Stage # {#stage}</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;Portrait images can be used in two ways in %Fungus.</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;- They can be shown as part of the **Say** commands in the Say Dialog.</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;- Alternatively Portraits can be displayed and moved around the screen inside %Fungus **Stages**, using the Portrait Command.</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;Create a simple stage that covers the whole game Window as follows:</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;1. (setup) Create a new scene, add a %Fungus Flowchart to the scene, and select the Block in the Flowchart.</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;2. Rename the Flowchart Block &quot;stage demo&quot;.</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;3. Create a %Fungus Stage gameObject in the scene by choosing menu:</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;```Tools | %Fungus | Create | Stage```:</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;![menu add stage]</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;4. You should now see a new gameObject &quot;Stage&quot; added to the scene Hierarchy.</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;5. If you select it you will see its properties in the Inspector. We can leave the default settings, since these are for the stage to cover the whole Game window. There are some child gameObjects inside the Stage, but you don&#39;t need to worry about these unless you are doing some advanced customisation of stages for a particular game effect.</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;![stage gameObject]</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;Now you have added a %Fungus Stage to your scene, you will be able to make large Portrait images appear / move in-out of the screen using the **Portrait** Command in %Fungus Flowchart Blocks...</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;&lt;!-- **************************************** --&gt;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;# Portrait command # {#portrait_command}</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;Once you have a %Fungus Stage, and a character then you can instruct %Fungus to display / move onscreen the Character Portrait images. To make character images appear as part of a scene do the following:</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;1. (setup) Create a new scene, add a %Fungus Flowchart to the scene, and select the Block in the Flowchart.</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;2. Rename the Flowchart Block &quot;sherlock enters dramatically&quot;.</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;3. Create a %Fungus Stage gameObject in the scene by choosing menu:</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;```Tools | %Fungus | Create | Stage```.</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;4. Create a new character, name the gameObject &quot;Character1 - Sherlock&quot;, set the Name Text to &quot;sherlock&quot; and the Name Color to green. Add to this character a portrait (we used the sherlock-confident image from the %Fungus Example project &quot;Sherlock&quot;). And set the image facing to the appropriate side (in our case: left):</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;![sherlock image]</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;5. Add a Portrait Command by clicking the Add Command button (the plus-sign &quot;+&quot;), then choosing menu:</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;```Narrative | Portrait```:</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;![add command portrait]</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;6. You will now see your new Portrait command in the top half of the Inspector, and its Command properties in the bottom half of the Inspector. Note the red exclamation mark at the right of the highlighted (green) Command row - this indicated when a command has one or more required properties that have not been set. We see the error message *&quot;No character selected&quot;*:</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;![new command portrait]</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;7. Set the portrait&#39;s character to &quot;Character1 - sherlock&quot;, and set the following properties:</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    - Portrait: confident</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    - Facing: &lt;-- (left)</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    - Move: Yes (check the checkbox)</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    - From Position: Offscreen Right</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    - To Position: Right</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;![command portrait for sherlock]</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;8. When you run the scene, the Sherlock portrait image should move into view having started from Offscreen - Right. The image stops when it gets to about a third the way onto the screen:</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;![sherlock portrait output]</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;Note, a common Command flow sequence is:</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;- to have a character enter on screen (Portrait command),</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;- then have that character say something (Say command),</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;- then have another character enter the screen (Portrait command),</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;- and then that second character says something (Say command).</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;Here is just such a sequence for the &quot;Case of the missing violin&quot; two-sentence scenario explored in the recipe to learning how to create %Fungus Characters (recipe: Listing portrait image(s) for use by Characters):</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;![sherlock portrait output]</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;Here we see the Play Mode user experience of the output of running such a workflow:</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;![sherlock portrait then say]</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;![john portrait then say]</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;&lt;!-- **************************************** --&gt;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;# Playing music # {#playing_music}</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;Music sound clips loop, so they are restarted once they have finished playing. Often the first Command in a Block is a **Play Music** Command. Add music to a Block as follows:</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;1. (setup) Create a new scene, add a %Fungus Flowchart to the scene, and select the Block in the Flowchart.</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;2. Add a Play Music Command to the current Block by clicking the Add Command (plus-sign &quot;+&quot; button) in the Inspector, and then choosing menu: ```Audio | Play Music```.</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;3. Ensure the Play Music command is selected (green highlight) in the top of the Inspector, and then drag the desired music clip file into the &quot;Music Clip&quot; property in the bottom half of the Inspector:</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;![Add Play Music command]</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;4. Change the volume as desired</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;(the default is 1, values are between 0.0 and 1.0, representing percentages of volume from 0% - 100%).</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;5. Play your scene - the music clip should play, and keep looping.</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;NOTE: If you wish to start playing the music clip from a known time-point (rather than from the beginning), then enter the desired time-point in the Inspector property &quot;At Time&quot; for your Play Music command.</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;&lt;!-- **************************************** --&gt;</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;# Branching narrative # {#branching}</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;Let&#39;s use a Say command above to ask a tricky mathematical question, and demonstrate the Menu command by offering the user a choice been &quot;correct&#39; and &quot;incorrect&quot; answers.  Menu commands transfer control to another block - so we&#39;ll need to add 2 new blocks to correspond to the 2 answers.</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;Do the following:</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;1. (setup) Create a new scene, add a %Fungus Flowchart to the scene, and select the Block in the Flowchart.</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;2. Rename the Block in the Flowchart to &quot;Question&quot;.</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;3. Create a Say command, with **Story Text** to ask the question: &quot;Is 2 + 2?&quot;.</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;4. Uncheck the &quot;Wait For Click&quot; checkbox (this is so we see the menu options immediately after the Say command has displayed the question):</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;![maths say command]</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;5. Create a new Block, named &quot;Correct&quot; which contains a **Say** command with the text &quot;Well done, you are very mathematical!&quot;. Click the plus-sign button in the Flowchart window to add a new Block to the Flowchart, rename it &quot;Correct&quot; and then add that Say command:</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;![correct block]</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;6. Select the &quot;Question&quot; block, and add a Menu command by clicking the plus-sign add Command button in the Inspector and then choosing menu: ```Narrative | Menu```.</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;![add menu command]</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;7. With this new Menu command selected (green) in the top half of the Inspector window, set the **Text** to &quot;Yes&quot; and the **Target Block** to your new &quot;Correct&quot; block:</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;![menu command]</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;8. You should now see how the &#39;flow&#39; of commands can change from Block &quot;hello&quot; to Block &quot;Correct&quot; in the Flowchart window:</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;![flow between blocks in Flowchart]</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;9. Add a second new Block named &quot;Wrong&quot;, containing a Say command with text &quot;Bad luck, perhaps consider a non-mathematical career path...&quot;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;![block for wrong answer]</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;10. Now we need to add another Menu command to our &quot;hello&quot; block, offering the user the &quot;No&quot; answer to our maths question, and passing control to Block &quot;Wrong&quot; if they disagree that 2 + 2 = 4. Select the &quot;hello&quot; block, and add a Menu command. With this new Menu command selected (green) in the top half of the Inspector window, set the **Text** to &quot;No&quot; and the **Target Block** to your new &quot;Wrong&quot; block.</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;11. You should now see in the Flowchart window how block &quot;hello&quot; can pass control to either block &quot;Correct&quot; or Block &quot;Wrong&quot; - depending on which menu answer the user selects.</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;![block connected to 2 others]</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;12. Run the scene, and you should see the Say question appear at the bottom of the screen, and also the two Menu buttons &quot;Yes&quot; and &quot;No&quot; in the middle of the screen. Clicking &quot;Yes&quot; then runs the &quot;Correct&quot; Block&#39;s commands, and clicking &quot;No&quot; runs the &quot;Wrong&quot; block&#39;s commands:</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;![menu running]</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;![correct screen]</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;![wrong screen]</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;&lt;!-- **************************************** --&gt;</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;# Change background colour # {#background_color}</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;Unity cameras determine what the user sees when a scene is running. When nothing is present in all or part of the camera&#39;s rectangle a solid &quot;Background&quot; colour is displayed. Unity cameras have a default Background of a medium dark blue colour. You can change this as follows:</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;1. (setup) Create a new 2D scene, unless you already have a scene with which to work.</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;2. Select the Main Camera in the Hierarchy.</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;3. In the Inspector for the Camera component, click and choose a different value for the Background property - often black works well.</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;![camera background colour]</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;4. Now when any part of the camera rectangle (frustrum) shows no gameOjects then your custom Background colour will be what the user sees.</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;&lt;!-- **************************************** --&gt;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;# Background sprite # {#background_sprite}</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;To add any sprite image file from your Unity Project folder into the current scene, simply drag a reference to the sprite image file from the Project window onto the Scene window, and rotate / resize desired. The sprite will appear as a new gameObject (with same name as Sprite Project image file) in the Hierarchy window:</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;![sprite into scene]</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;NOTE: You may not be able to see the sprite, because what we see depends on the current settings for the camera. What the camera shows, how it moves etc. can be controlled by %Fungus Views and Commmands relating to Views.</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;&lt;!-- **************************************** --&gt;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;# Using Views # {#view}</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;What the main camera of a scene displays to the user, and how it moves etc. can be controlled by %Fungus Views and %Fungus Commmands relating to Views. A %Fungus View is a special gameObject in the Hierarchy, it appears as a green outlined inner rectangle, with two filled green rectangles on the left and the right. The ratio of the outlined inner rectangle is 4:3. The ratio of the outer rectangle (which includes the two filled green left and right rectangles) is 16:9. These two ratios cover almost every common phone, tablet and computer screen width-to-height ratio. So arranging the view so that a background Sprite image looks good for both inner- and outer- rectangles of a view, pretty much ensures your game will look good on any device. Setting the background color of the camera to something like black also means on the rare device that has an odd ratio showing content outside of the view outer rectangle, the game should still look perfectly acceptable.</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;To add a view to the current scene do the following:</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;1. (setup) Create / Edit a scene that has a Sprite background image gameObject</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;2. Choose menu: ```Tools | %Fungus | Create | View```:</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;![menu new view]</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;3. Rename this View as &quot;View1&quot;.</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;4. Use the two white squares to resize the view (it maintains its proportions). Use the center square outline, or vertical and horizontal arrows to move the View around the Scene window.</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;![move and resize handles]</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;![new view]</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;5. Ensure the View is selected in the Hierarchy, then position the view so that it is approximately centered on your background sprite image</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;6. Resize (and if necessary reposition) the View to be as big as possible, but ensuring that its outer rectangle stays within the bounds of the background sprite. (Note we&#39;ve tinted the Sprite red so the green View rectangles can be more easily seen in this screenshot):</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;![resize view]</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;7. Note: You can also rotate the view with the Unity Rotate tool</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;NOTE: Until you add a &quot;Fade To View&quot; %Fungus command, you still may not see the Sprite in the Game window when the scene plays, since the Main Camera has not been oriented to resize and align with the view.</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;&lt;!-- **************************************** --&gt;</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;# Fade To View command # {#fade_to_view}</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;Once you have a Scene that contains some background Sprites and %Fungus Views, you are ready to use the %Fungus camera related Commands to control what the user sees. The simplest camera control is to make the Game window fade from a solid colour to the Main Camera being sized, positioned (and if necessary rotated) to show a specified %Fungus View. Do the following:</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;1. (setup) Create / being editing a Scene containing a background Sprite image, and a %Fungus View that has been positioned to show all / some of the Sprite.</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;2. In the %Fungus Flowchart rename the Block &quot;Camera Control&quot;.</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;3. Add a new &quot;Fade to View&quot; Command to the Block. First click the Plus button in the bottom half of the Inspector window, to add a new Command, then choose menu: ```Camera | Fade To View```:</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;![menu Fade to View]</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;4. Now Drag &quot;View1&quot; from the Hierarchy window into the &quot;Target View&quot; property of the Fade to View Command  in the Inspector:</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;![assign Target View]</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;[assign Target View]: ./telling_a_story/08_add_view/6_drag_view.png &quot;assign Target View&quot;</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;5. (We&#39;ll keep the defaults of 1 second and fade From Color of black).</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;6. When you run the Scene the Game window should start off solid black, and then slowly the background Sprite image within the View rectangle should fade into view.</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;7. Now Drag &quot;View1&quot; from the Hierarchy window into the</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;![menu Fade to View]</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;[Menu create character]: ./telling_a_story/001_characters/1_menu_character.png &quot;Menu create character&quot;</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;[new character]: ./telling_a_story/001_characters/2_new_character.png &quot;new character&quot;</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;[character tom red]: ./telling_a_story/001_characters/3_tom.png &quot;character tom red&quot;</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;[character jerry blue]: ./telling_a_story/001_characters/4_jerry.png &quot;character jerry blue&quot;</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;[tom say where cat]: ./telling_a_story/001_characters/5_tom_say1.png &quot;tom say where cat&quot;</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;[tom jerry conversation]: ./telling_a_story/001_characters/6_four_says.png &quot;tom jerry conversation&quot;</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;[tom jerry conversation output]: ./telling_a_story/001_characters/7_tom_jerry_chat.png &quot;tom jerry conversation output&quot;</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;[add portrait]: ./telling_a_story/002_portrait/2_add_portrait.png &quot;add portrait&quot;</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;[sherlock image]: ./telling_a_story/002_portrait/1_sherlock.png &quot;sherlock image&quot;</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;[sherlock Say command]: ./telling_a_story/002_portrait/6_say_sherlock.png &quot;sherlock Say command&quot;</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;[2 say commands]: ./telling_a_story/002_portrait/8_two_say_commands.png &quot;2 say commands&quot;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;[sherlock output]: ./telling_a_story/002_portrait/4_sherlock_output.png &quot;sherlock output&quot;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;[john output]: ./telling_a_story/002_portrait/5_john_output.png &quot;john output&quot;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;[sherlock image list]: ./telling_a_story/002_portrait/7_many_portait_images.png &quot;sherlock image list&quot;</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;[menu add stage]: ./telling_a_story/003_stage/1_menu_stage.png &quot;menu add stage&quot;</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;[stage gameObject]: ./telling_a_story/003_stage/2_stage_gameobject.png &quot;stage gameObject&quot;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;[sherlock image]: ./telling_a_story/002_portrait/1_sherlock.png &quot;sherlock image&quot;</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;[add command portrait]: ./telling_a_story/005_portrait_command/1_menu_command_portrait.png &quot;add command portrait&quot;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;[new command portrait]: ./telling_a_story/005_portrait_command/4_new_command_portrait.png &quot;new command portrait&quot;</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;[command portrait for sherlock]: ./telling_a_story/005_portrait_command/2_portrait_command.png &quot;command portrait for sherlock&quot;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;[sherlock portrait output]: ./telling_a_story/005_portrait_command/3_portrait_output.png &quot;sherlock portrait output&quot;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;[sherlock portrait output]: ./telling_a_story/005_portrait_command/3_portrait_output.png &quot;sherlock portrait output&quot;</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;[sherlock portrait then say]: ./telling_a_story/005_portrait_command/5_sherlock_say.png &quot;sherlock portrait then say&quot;</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;[john portrait then say]: ./telling_a_story/005_portrait_command/6_john_say.png &quot;john portrait then say&quot;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;[Add Play Music command]: ./telling_a_story/004_play_music/1_add_playmusic_command.png &quot;Add Play Music command&quot;</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;[maths say command]: ./telling_a_story/011_menu_maths/2_edited_say.png &quot;maths say command&quot;</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;[correct block]: ./telling_a_story/011_menu_maths/1_correct_block.png &quot;correct block&quot;</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;[add menu command]: ./telling_a_story/011_menu_maths/6_add_menu.png &quot;add menu command&quot;</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;[menu command]: ./telling_a_story/011_menu_maths/4_menu_correct.png &quot;menu command&quot;</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;[flow between blocks in Flowchart]: ./telling_a_story/011_menu_maths/5_connected_blocks.png &quot;flow between blocks in Flowchart&quot;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;[block for wrong answer]: ./telling_a_story/011_menu_maths/7_wrong_block.png &quot;block for wrong answer&quot;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;[block connected to 2 others]: ./telling_a_story/011_menu_maths/8_three_block_menu.png &quot;block connected to 2 others&quot;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;[menu running]: ./telling_a_story/011_menu_maths/9_menu_running.png &quot;menu running&quot;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;[correct screen]: ./telling_a_story/011_menu_maths/10_correct.png &quot;correct screen&quot;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;[wrong screen]: ./telling_a_story/011_menu_maths/11_wrong.png &quot;wrong screen&quot;</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;[camera background colour]: ./telling_a_story/06_camera_background/1_background_black.png &quot;camera background colour&quot;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;[sprite into scene]: ./telling_a_story/07_background_sprite/1_sprite.png &quot;sprite into scene&quot;</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;[menu new view]: ./telling_a_story/08_add_view/1_menu_view.png &quot;menu new view&quot;</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;[move and resize handles]: ./telling_a_story/08_add_view/4_move_resize_handles.png &quot;move and resize handles&quot;</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;[new view]: ./telling_a_story/08_add_view/2_gameobjects.png &quot;new view&quot;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;[resize view]: ./telling_a_story/08_add_view/3_resize_view.png &quot;resize view&quot;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;[menu Fade to View]: ./telling_a_story/08_add_view/5_menu_fade_to_view.png &quot;menu Fade to View&quot;</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;[menu Fade to View]: ./telling_a_story/08_add_view/7_scene_running.png &quot;menu Fade to View&quot;</div></div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="telling__a__story_8md.html">telling_a_story.md</a></li>
    <li class="footer">Generated on Tue Apr 3 2018 23:20:20 for Fungus by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
