<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<title>Fungus: Coding Standard</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-59839218-1', 'auto');
  ga('send', 'pageview');
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="background-color: #B7CEEC;">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://fungusgames.com" target="_blank"><img alt="Logo" src="logo_small.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><!--Fungus-->
   &#160;<span id="projectnumber"><!--v3.9.1--></span>
   </div>
   <div id="projectbrief">v3.9.1 Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('coding_standard.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Coding Standard </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Fungus coding standard is designed to make the source code simple to understand for users and easy to maintain for contributors.</p>
<p>This document is focussed on decisions that we've made for the Fungus project. For general Unity coding tips, try <a href="http://www.gamasutra.com/blogs/HermanTulleken/20160812/279100/50_Tips_and_Best_Practices_for_Unity_2016_Edition.php">50 Tips and Best Practices for Unity</a>.</p>
<h1><a class="anchor" id="code_layout"></a>
Code layout</h1>
<p>This is the typical layout of a class in Fungus:</p>
<div class="fragment"><div class="line">using UnityEngine;</div><div class="line"></div><div class="line">namespace Fungus</div><div class="line">{</div><div class="line">    /// &lt;summary&gt;</div><div class="line">    /// Description of the component.</div><div class="line">    /// &lt;/summary&gt;</div><div class="line">    public class MyComponent : MonoBehaviour</div><div class="line">    {</div><div class="line">        [Tooltip(&quot;Tooltip comment displayed in the editor.&quot;)]</div><div class="line">        [SerializeField] protected float myProperty = 10f;</div><div class="line"></div><div class="line">        protected virtual void MyMethod()</div><div class="line">        {</div><div class="line">            if (myProperty &gt; 5f)</div><div class="line">            {</div><div class="line">                Debug.Log(&quot;A message&quot;);</div><div class="line">            }</div><div class="line">        }</div><div class="line"></div><div class="line">        #region Public members</div><div class="line"></div><div class="line">        /// &lt;summary&gt;</div><div class="line">        /// Documentation comment for public property.</div><div class="line">        /// &lt;/summary&gt;</div><div class="line">        public virtual float MyProperty { get; set; }</div><div class="line"></div><div class="line">        /// &lt;summary&gt;</div><div class="line">        /// Aspect ratio of the secondary view rectangle. e.g. a 2:1 aspect ratio = 2/1 = 2.0.</div><div class="line">        /// &lt;/summary&gt;</div><div class="line">        public virtual void DoSomething()</div><div class="line">        {</div><div class="line">        }</div><div class="line"></div><div class="line">        #endregion</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --><p>Things to note:</p>
<ul>
<li>using declarations all go together at the top of the file.</li>
<li>Remove any unused using declarations (can spot these easily with static code analysis - see below).</li>
<li>Runtime code goes in the <a class="el" href="namespace_fungus.html">Fungus</a> namespace.</li>
<li>Editor code goes in the <a class="el" href="namespace_fungus_1_1_editor_utils.html">Fungus.EditorUtils</a> namespace.</li>
<li>All public classes, structs, enums and class members should be documented using xml comments.</li>
<li>You can document private and protected members if you want to, but ALL public members must have at least a summary comment.</li>
<li>Parameter &amp; return descriptions are optional, add them if you feel the parameters require a non-trivial explanation.</li>
<li>Serialized fields should NEVER be public. Use a public accessor property to access the field if external access is required.</li>
<li>All serialized fields should have a Tooltip attribute. This doubles as code documentation for the field.</li>
<li>All methods should be declared virtual and use protected instead of private. This allows for easy inheritance and extension (at the cost of some performance).</li>
<li>All public members of a class (including public static &amp; delegate types) should be placed inside a 'Public members' region for easy access.</li>
<li>Braces go on a newline and use spaces exclusively instead of tabs.</li>
</ul>
<h1><a class="anchor" id="coding_best_practices"></a>
Coding best practices</h1>
<p>These are some general best practices when writing code for Fungus. Where these go against the usual recommended coding practice (e.g. Assert) it's because of an issue in Unity with doing it 'the right way'.</p>
<ul>
<li>Use the static code analyser in MonoDevelop. <a href="http://tinyurl.com/h7xqpwg">http://tinyurl.com/h7xqpwg</a></li>
<li>Use the c# xml comment style. <a href="https://msdn.microsoft.com/en-us/library/b2s063f7.aspx">https://msdn.microsoft.com/en-us/library/b2s063f7.aspx</a></li>
<li>Declare all public enums at namespace scope, not inside a class. (Consistency, easier sharing of enums between classes).</li>
<li>Use var instead of declaring variable types when possible. (More readable).</li>
<li>Use for instead of foreach when possible. (Avoids allocating an iterator &amp; GC problems).</li>
<li>Use string.Format or StringBuilder instead of concatenating strings. (Avoids allocations &amp; GC problems).</li>
<li>Don't use LINQ. (Avoids allocations &amp; GC problems.)</li>
<li>Don't use Assert. (We support back to Unity 5.0, before Assert was introduced).</li>
<li>Use Mathf.Approximately when comparing float variables to constants.</li>
<li>Treat compiler warnings as errors. There should be zero warnings at build or runtime in normal operation.</li>
<li>Add global constants to <a class="el" href="_fungus_constants_8cs.html">FungusConstants.cs</a></li>
</ul>
<h1><a class="anchor" id="backwards_compatibility"></a>
Backwards compatibility</h1>
<p>We aim to maintain backwards compatibility with each new release (to a reasonable extent).</p>
<ul>
<li>Projects should work correctly after upgrading to a newer Fungus version. Minor behavior changes are acceptable.</li>
<li>Custom code which uses the Fungus API should compile without error after upgrading. Minor compile errors that are trivial to fix are sometimes acceptable.</li>
<li>There are loads of Fungus tutorial videos and articles on the Internet, so avoid changing the UI too dramatically. Small UI tweaks and adding new controls is acceptable.</li>
<li>We support Unity 5.0+ so beware of API differences in newer versions. If in doubt, install Unity 5.0 and test your changes.</li>
</ul>
<h1><a class="anchor" id="contributing"></a>
Contributing</h1>
<p>We welcome pull requests from everyone. By contributing to this project, you agree to abide by the <a class="el" href="code_of_conduct.html">Code of conduct</a>. You also agree that by submitting a pull request for this project, your contribution will be licensed under the <a href="https://github.com/snozbot/Fungus/blob/master/LICENSE">Open Source license</a> for this project.</p>
<ul>
<li>Fork and clone the Fungus repo.</li>
<li>Make sure the tests pass locally (see the project readme for instructions).</li>
<li>Make your change. Add tests for your change. Make the tests pass locally.</li>
<li>Push to your fork and submit a pull request.</li>
</ul>
<p>Your pull request will have a better chance of being accepted if you do the following:</p>
<ul>
<li>Send one pull request for each new feature / bug fix. It's time consuming to review multi-feature changes and we won't merge a change unless we know exactly what it does.</li>
<li>Write tests for each change / new feature (not always possible)</li>
<li>Follow our coding standard (see above)</li>
<li>Write a <a href="http://chris.beams.io/posts/git-commit/">good commit message</a>. </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">%Fungus Documentation</a></li>
    <li class="footer">Generated on Mon Jul 16 2018 23:53:01 for Fungus by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
