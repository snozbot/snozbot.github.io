<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Fungus: Conversation system</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-59839218-1', 'auto');
  ga('send', 'pageview');
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea" style="background-color: #B7CEEC;">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://fungusgames.com" target="_blank"><img alt="Logo" src="logo_small.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname"><!--Fungus-->
   &#160;<span id="projectnumber"><!--v3.3.0--></span>
   </div>
   <div id="projectbrief">v3.3.0 Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('conversation_system.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Conversation system </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#example">Example</a></li>
<li class="level1"><a href="#format">Format</a></li>
<li class="level1"><a href="#string_substitution">String substitution</a></li>
<li class="level1"><a href="#localization">Localization</a></li>
<li class="level1"><a href="#lua">Lua</a></li>
</ul>
</div>
<div class="textblock"><p>The Say and Portrait commands are a powerful way to build character dialogue, but it can be tedious to add large amounts of dialogue this way.</p>
<p>The Conversation system provides a simplified format that allows you to quickly control:</p>
<ul>
<li>Which character is speaking</li>
<li>Which portrait image to use (either on the Say Dialog or on the Stage portrait)</li>
<li>Which stage position to move to the character to (if using the Stage)</li>
<li>When to hide a character</li>
</ul>
<p>To create a conversation, add the Conversation command (Narrative &gt; Conversation) to a Block and enter the conversation text.</p>
<h1><a class="anchor" id="example"></a>
Example</h1>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;john bored left: Oh, so that&#39;s how you use the Conversation command.</div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;sherlock eyeroll right: Yes, well done John.</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;You catch on quickly don&#39;t you?</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;hide john &quot;offscreen left&quot;: I sure do.</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;-- This is a comment, it doesn&#39;t appear in the conversation</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;john angry middle: Wait, what!</div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;left: There&#39;s no need to be rude Sherlock!</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;bored: Not like that would stop you.</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;sherlock excited: AHA! So that&#39;s how you do a conversation from Lua!</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;Fascinating.</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;john &lt;&lt;&lt;: Yes, riveting.</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;john hide:</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;sherlock hide:</div></div><!-- fragment --><h1><a class="anchor" id="format"></a>
Format</h1>
<p>The format for conversation text is: </p><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;[character] [portrait] [position] [hide] [&lt;&lt;&lt; | &gt;&gt;&gt;]: [Dialogue text]</div></div><!-- fragment --><ul>
<li>character: The gameobject name or Name Text value of the speaking character.</li>
<li>portrait: The name of a sprite in the character's Portraits list.</li>
<li>position: The name of a position object in the Stage (e.g. Left, Middle, Right, Offscreen Left, Offscreen Right)</li>
<li>hide: Hides the character</li>
<li>&lt;&lt;&lt;: Portrait face left</li>
<li>&gt;&gt;&gt;: Portrait face right</li>
</ul>
<p>Parameters go on the left of the colon and the dialogue text goes on the right. You can omit any parameter and specify them in any order. Parameters are separated by spaces. If you need to use a name which contains spaces, wrap it in quotation marks e.g. "John Watson". Parameters are case insensitive. Blank lines and comment lines starting with &ndash; are ignored. A line of dialogue text on its own will be spoken by the most recent character. You can omit dialogue text, but remember you still need to add the : character at the end of the line.</p>
<h1><a class="anchor" id="string_substitution"></a>
String substitution</h1>
<p>You can use the normal string subsitution syntax {$VarName} anywhere in the conversation text. For example if you have a string Flowchart variable called PlayerName you can embed this in a conversation like this:</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;john: Hi there {$PlayerName}.</div></div><!-- fragment --><h1><a class="anchor" id="localization"></a>
Localization</h1>
<p>You can use the string substitution feature above with a <a class="el" href="lua_string_table.html">Lua string table</a> to localize the conversation for multiple languages.</p>
<p>The Conversation system does not work with the Localization component in Fungus because the syntax makes it difficult to localize that way.</p>
<h1><a class="anchor" id="lua"></a>
Lua</h1>
<p>The conversation system can also be used <a class="el" href="lua_controlling_fungus.html">from Lua</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">%Fungus Documentation</a></li>
    <li class="footer">Generated on Wed Oct 12 2016 14:34:53 for Fungus by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
